<div class="container-fluid">
  <br/>
  <div class="row">
    <div class="col-sm-6">
      <h1>Skill Analyzer</h1>
      <p>The skill analyzer shows information about the job market, salaries, companies, and popularity of any engineering skill.
      </p>
      <div class="input-group">
        <skill-typeahead input-model="skill"></skill-typeahead>
        <span class="input-group-btn">
          <button class="btn btn-primary" type="button" ng-click="getSkillSummary()">
            Summarize
          </button>
        </span>
      </div>
    </div>
  </div>

  <br/>
  <div ng-if="summary">
    <div class="row">
      <div class="col-sm-12">
        <h2>Analysis for {{summary.skill}}</h2>
        <hr/>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-6">
        <h3>Job Market</h3>
        <div>
          Total Jobs: {{summary.total_jobs}}
        </div>
        <div>
          New jobs this week: {{summary.new_jobs_this_week}}
        </div>
        <graph data="bucketedJobs" width="100%" height="300px">
          <x field="month_string" order-by="month_sortable"></x>
          <y field="new_job_count"></y>
          <line field="new_jobs"></line>
        </graph>
      </div>

      <div class="col-sm-6">
        <h3>Salaries</h3>
        <div>
          Avg Min Salary: {{summary.med_min_salary.toLocaleString('en-US', { style: 'currency', currency: 'USD' });}}
        </div>
        <div>
          Avg Max Salary: {{summary.med_max_salary.toLocaleString('en-US', { style: 'currency', currency: 'USD' });}}
        </div>
        <graph data="bucketedSalaries" width="100%" height="300px">
          <x field="bucket"></x>
          <y field="job_count"></y>
          <bar field="bucket"></bar>
        </graph>
      </div>

      <div class="col-sm-6">
        <h3>Companies</h3>
      </div>

      <div class="col-sm-6">
        <h3>Related Skills</h3>
        <graph data="relatedSkills" width="100%" height="400px">
          <x field="name"></x>
          <y field="occurrences"></y>
          <bar field="name"></bar>
        </graph>
      </div>

      <script type="text/javascript" src="//www.google.com/trends/embed.js?hl=en-US&q=angularjs&cmpt=q&tz&tz&content=1&cid=TIMESERIES_GRAPH_0&export=5&w=500&h=330"></script>

    </div>
  </div>
</div>
